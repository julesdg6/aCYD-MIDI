name: Notify Discord on Release

on:
  release:
    types: [published]

jobs:
  discordNotification:
    runs-on: ubuntu-latest
    steps:
      - name: Notify via Releasify
        # NOTE: Pin this action to an immutable commit SHA for supply-chain safety.
        # Replace <commit-sha> with the 40-character commit SHA from the teneplaysofficial/releasify-action repository.
        uses: teneplaysofficial/releasify-action@<commit-sha>
        with:
          webhook: ${{ secrets.DISCORD_WEBHOOK }}
          title: "ðŸš€ New Release!"
          footer: "Published by CI"
          username: "ReleaseBot"
          avatar_url: "https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png"
